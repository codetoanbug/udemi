/*** IMPORTS FROM imports-loader ***/
var video = (video || {});
video.js = require("video.js");

/*!
 * videojs-mux
 * @version 4.16.0
 * @copyright 2023 Mux, Inc.
 */
!function(){!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("video.js"));else{var r="object"==typeof exports?t(require("video.js")):t(e.videojs);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(function(e){return function(){var t={48:function(e,t,r){var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},961:function(e){var t;t=function(){return function(){var e={80:function(e,t,r){e.exports=r(728).default},728:function(e,t,r){"use strict";r.d(t,{default:function(){return Lt}});var n=r(48),a=r.n(n),i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},o=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},s=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||o()),e.muxId):e},u=function(e){var t;e&&void 0!==e.nodeName?e=s(t=e):t=document.querySelector(e);var r=t&&t.nodeName?t.nodeName.toLowerCase():"";return[t,e,r]},l=r(640),d=r.n(l),c=d().methodFactory;d().methodFactory=function(e,t,r){var n=c(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},d().setLevel(d().getLevel());var f=d();function p(){return"1"===(a().doNotTrack||a().navigator&&a().navigator.doNotTrack)}var _={now:function(){var e=a().performance,t=e&&e.timing,r=t&&t.navigationStart,n="number"==typeof r&&"function"==typeof e.now?r+e.now():Date.now();return Math.round(n)}},m=function(e){return v(e)[0]},v=function(e){if("string"!=typeof e||""===e)return["localhost"];var t,r=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return r&&(t=(r.match(/[^\.]+\.[^\.]+$/)||[])[0]),[r,t]},h=function(){var e=a().performance;return void 0!==(e&&e.timing)},y=function(){var e=a().performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},b=function(){var e=a().performance,t=e&&e.timing;return t&&t.navigationStart};function g(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}var w=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],T=["x-cdn","content-type"].concat(w);function k(e){var t={};return(e=e||"").trim().split(/[\r\n]+/).forEach((function(e){if(e){var r=e.split(": "),n=r.shift();n&&(T.indexOf(n.toLowerCase())>=0||0===n.toLowerCase().indexOf("x-litix-"))&&(t[n]=r.join(": "))}})),t}function x(e){if(e){var t=w.find((function(t){return void 0!==e[t]}));return t?e[t]:void 0}}var E=function(e){var t={};for(var r in e){var n=e[r];-1!==n["DATA-ID"].search("io.litix.data.")&&(t[n["DATA-ID"].replace("io.litix.data.","")]=n.VALUE)}return t};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){if(!e)return{};var t=b(),r=e.loading,n=r?r.start:e.trequest,a=r?r.first:e.tfirst,i=r?r.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+n),responseStart:Math.round(t+a),responseEnd:Math.round(t+i)}},A=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return k(e.getAllResponseHeaders())};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var r=e.getRequests({state:"executed"});if(0===r.length)return{};var n,a=r[r.length-1],i=m(a.url),o=a.url,s=a.bytesLoaded,u=new Date(a.requestStartDate).getTime(),l=new Date(a.firstByteDate).getTime(),d=new Date(a.requestEndDate).getTime(),c=isNaN(a.duration)?0:a.duration,f="function"==typeof t.getMetricsFor?t.getMetricsFor(a.mediaType).HttpList:t.getDashMetrics().getHttpRequests(a.mediaType);return f.length>0&&(n=k(f[f.length-1]._responseHeaders||"")),{requestStart:u,requestResponseStart:l,requestResponseEnd:d,requestBytesLoaded:s,requestResponseHeaders:n,requestMediaDuration:c,requestHostname:i,requestUrl:o,requestId:n?x(n):void 0}},L=function(e){var t;return null===(t=e.match(/.*codecs\*?="(.*)"/))||void 0===t?void 0:t[1]};function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=0,M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"on",value:function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++N,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t}},{key:"off",value:function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach((function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)}))}},{key:"one",value:function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++N;var a=function a(){n.off(e,a),t.apply(r||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)}},{key:"emit",value:function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],a=this._listeners[e]||[],i=this._listeners["after"+e]||[],o=function(t,n){(t=t.slice()).forEach((function(t){t.call(r,{type:e},n)}))};o(n,t),o(a,t),o(i,t)}}}],r&&C(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),H=M;function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var B=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,t.on("playing",(function(){r._playheadShouldBeProgressing=!0})),t.on("play",this._startPlaybackHeartbeatInterval.bind(this)),t.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),t.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),t.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),t.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),t.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),t.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),t.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),t.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),t.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),t.on("seeked",(function(){t.data.player_is_paused?r._stopPlaybackHeartbeatInterval():r._startPlaybackHeartbeatInterval()})),t.on("timeupdate",(function(){null!==r._playbackHeartbeatInterval&&t.emit("playbackheartbeat")})),t.on("devicesleep",(function(e,n){null!==r._playbackHeartbeatInterval&&(a().clearInterval(r._playbackHeartbeatInterval),t.emit("playbackheartbeatend",{viewer_time:n.viewer_time}),r._playbackHeartbeatInterval=null)}))}var t,r;return t=e,(r=[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;null===this._playbackHeartbeatInterval&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=a().setInterval((function(){e.pm.emit("playbackheartbeat")}),this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(a().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&U(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var W=function(e,t,r){return t&&F(e.prototype,t),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.on("viewinit",(function(){r.viewErrored=!1})),t.on("error",(function(e,n){try{var a=t.errorTranslator({player_error_code:n.player_error_code,player_error_message:n.player_error_message,player_error_context:n.player_error_context});a?(t.data.player_error_code=a.player_error_code||n.player_error_code,t.data.player_error_message=a.player_error_message||n.player_error_message,t.data.player_error_context=a.player_error_context||n.player_error_context,r.viewErrored=!0):(delete t.data.player_error_code,delete t.data.player_error_message,delete t.data.player_error_context)}catch(e){t.mux.log.warn("Exception in error translator callback.",e),r.viewErrored=!0}}))}));function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t,this._watchTimeTrackerLastCheckedTime=null,t.on("playbackheartbeat",this._updateWatchTime.bind(this)),t.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var t,r;return t=e,(r=[{key:"_updateWatchTime",value:function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),g(this.pm.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r}},{key:"_clearWatchTimeState",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}])&&V(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var J=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=_.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var n=this._startPlaybackTimeTracking.bind(this);t.on("playing",n),t.on("adplaying",n),t.on("seeked",n);var a=this._stopPlaybackTimeTracking.bind(this);t.on("playbackheartbeatend",a),t.on("seeking",a),t.on("adplaying",(function(){r._isAdPlaying=!0})),t.on("adended",(function(){r._isAdPlaying=!1})),t.on("adpause",(function(){r._isAdPlaying=!1})),t.on("adbreakstart",(function(){r._isAdPlaying=!1})),t.on("adbreakend",(function(){r._isAdPlaying=!1})),t.on("adplay",(function(){r._isAdPlaying=!1})),t.on("viewinit",(function(){r._playbackTimeTrackerLastPlayheadPosition=-1,r._lastTime=_.now(),r._isAdPlaying=!1,r._callbackUpdatePlaybackTime=null}))}var t,r;return t=e,(r=[{key:"_startPlaybackTimeTracking",value:function(){null===this._callbackUpdatePlaybackTime&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,t=_.now(),r=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?r=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(r=t-this._lastTime),r>0&&r<=1e3&&g(this.pm.data,"view_content_playback_time",r),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=t}}])&&Q(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var z=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t;var r=this._updatePlayheadTime.bind(this);t.on("playbackheartbeat",r),t.on("playbackheartbeatend",r),t.on("timeupdate",r),t.on("destroy",(function(){t.off("timeupdate",r)}))}var t,r;return t=e,(r=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=void 0===this.pm.data.view_max_playhead_position?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,t){var r=this,n=function(){r.pm.currentFragmentPDT&&r.pm.currentFragmentStart&&(r.pm.data.player_program_time=r.pm.currentFragmentPDT+r.pm.data.player_playhead_time-r.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,n(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var a=this.pm.getPlayheadTime();void 0!==a&&(this.pm.data.player_playhead_time=a,n(),this._updateMaxPlayheadPosition())}}}])&&K(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var X=3e5,$=function(e,t,r){return t&&Y(e.prototype,t),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t.disableRebufferTracking){var r,n=function(e,t){a(t),r=void 0},a=function(e){if(r){var n=e.viewer_time-r;g(t.data,"view_rebuffer_duration",n),r=e.viewer_time,t.data.view_rebuffer_duration>X&&(t.emit("viewend"),t.send("viewend"),t.mux.log.warn("Ending view after rebuffering for longer than ".concat(X,"ms, future events will be ignored unless a programchange or videochange occurs.")))}t.data.view_watch_time>=0&&t.data.view_rebuffer_count>0&&(t.data.view_rebuffer_frequency=t.data.view_rebuffer_count/t.data.view_watch_time,t.data.view_rebuffer_percentage=t.data.view_rebuffer_duration/t.data.view_watch_time)};t.on("playbackheartbeat",(function(e,t){return a(t)})),t.on("rebufferstart",(function(e,a){r||(g(t.data,"view_rebuffer_count",1),r=a.viewer_time,t.one("rebufferend",n))})),t.on("viewinit",(function(){r=void 0,t.off("rebufferend",n)}))}}));function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ee=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t,t.disableRebufferTracking||t.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,t.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),t.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),t.on("seeking",(function(){r._cleanupRebufferTracker(null,{viewer_time:_.now()})})))}var t,r;return t=e,r=[{key:"_checkIfRebuffering",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else if(null!==this._lastCheckedTime)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.sustainedRebufferThreshold&&r>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0);else this._prepareRebufferTrackerState(t.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return;var n=this.pm.data.player_playhead_time-this._lastPlayheadTime,a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.minimumRebufferDuration&&n>0&&a-n>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-n}))}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}],r&&Z(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),te=ee;function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ne=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t,t.on("viewinit",(function(){var e=t.data,n=e.view_id;if(!e.view_program_changed){var a=function(e,a){var i=a.viewer_time;"playing"===e.type&&void 0===t.data.view_time_to_first_frame?r.calculateTimeToFirstFrame(i||_.now(),n):"adplaying"!==e.type||void 0!==t.data.view_time_to_first_frame&&!r._inPrerollPosition()||r.calculateTimeToFirstFrame(i||_.now(),n)};t.one("playing",a),t.one("adplaying",a),t.one("viewend",(function(){t.off("playing",a),t.off("adplaying",a)}))}}))}var t,r;return t=e,(r=[{key:"_inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&re(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ie=function(e,t,r){return t&&ae(e.prototype,t),r&&ae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.on("viewinit",(function(){r._lastPlayheadPosition=-1})),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach((function(e){t.on(e,(function(){if(r._lastPlayheadPosition>=0&&t.data.player_playhead_time>=0&&r._lastPlayerWidth>=0&&r._lastSourceWidth>0&&r._lastPlayerHeight>=0&&r._lastSourceHeight>0){var e=t.data.player_playhead_time-r._lastPlayheadPosition;if(e<0)return void(r._lastPlayheadPosition=-1);var n=Math.min(r._lastPlayerWidth/r._lastSourceWidth,r._lastPlayerHeight/r._lastSourceHeight),a=Math.max(0,n-1),i=Math.max(0,1-n);t.data.view_max_upscale_percentage=Math.max(t.data.view_max_upscale_percentage||0,a),t.data.view_max_downscale_percentage=Math.max(t.data.view_max_downscale_percentage||0,i),g(t.data,"view_total_content_playback_time",e),g(t.data,"view_total_upscaling",a*e),g(t.data,"view_total_downscaling",i*e)}r._lastPlayheadPosition=-1}))})),["playing","hb"].forEach((function(e){t.on(e,(function(){r._lastPlayheadPosition=t.data.player_playhead_time,r._lastPlayerWidth=t.data.player_width,r._lastPlayerHeight=t.data.player_height,r._lastSourceWidth=t.data.video_source_width,r._lastSourceHeight=t.data.video_source_height}))}))}));function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var se=function(e,t,r){return t&&oe(e.prototype,t),r&&oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSeeking=!1;var n=-1,a=function(){var e=_.now(),a=(t.data.viewer_time||e)-(n||e);g(t.data,"view_seek_duration",a),t.data.view_max_seek_time=Math.max(t.data.view_max_seek_time||0,a),r.isSeeking=!1,n=-1};t.on("seeking",(function(e,i){Object.assign(t.data,i),r.isSeeking&&i.viewer_time-n<=2e3?n=i.viewer_time:(r.isSeeking&&a(),r.isSeeking=!0,n=i.viewer_time,g(t.data,"view_seek_count",1),t.send("seeking"))})),t.on("seeked",(function(){a()})),t.on("viewend",(function(){r.isSeeking&&(a(),t.send("seeked")),r.isSeeking=!1,n=-1}))}));function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ce=function(e,t){e.push(t),e.sort((function(e,t){return e.viewer_time-t.viewer_time}))},fe=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],pe=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pm=t,t.on("viewinit",(function(){r.isAdBreak=!1,r._currentAdRequestNumber=0,r._currentAdResponseNumber=0,r._adRequests=[],r._adResponses=[],r._adHasPlayed=!1,r._wouldBeNewAdPlay=!0,r._prerollPlayTime=void 0})),fe.forEach((function(e){return t.on(e,r._updateAdData.bind(r))}));var n=function(){r.isAdBreak=!1};t.on("adbreakstart",(function(){r.isAdBreak=!0})),t.on("play",n),t.on("playing",n),t.on("viewend",n),t.on("adrequest",(function(e,n){n=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdRequestNumber++},n),ce(r._adRequests,n),g(t.data,"view_ad_request_count"),r.inPrerollPosition()&&(t.data.view_preroll_requested=!0,r._adHasPlayed||g(t.data,"view_preroll_request_count"))})),t.on("adresponse",(function(e,n){n=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdResponseNumber++},n),ce(r._adResponses,n);var a=r.findAdRequest(n.ad_request_id);a&&g(t.data,"view_ad_request_time",Math.max(0,n.viewer_time-a.viewer_time))})),t.on("adplay",(function(e,n){r._adHasPlayed=!0,r._wouldBeNewAdPlay&&(r._wouldBeNewAdPlay=!1,g(t.data,"view_ad_played_count")),r.inPrerollPosition()&&!t.data.view_preroll_played&&(t.data.view_preroll_played=!0,r._adRequests.length>0&&(t.data.view_preroll_request_time=Math.max(0,n.viewer_time-r._adRequests[0].viewer_time)),t.data.view_start&&(t.data.view_startup_preroll_request_time=Math.max(0,n.viewer_time-t.data.view_start)),r._prerollPlayTime=n.viewer_time)})),t.on("adplaying",(function(e,n){r.inPrerollPosition()&&void 0===t.data.view_preroll_load_time&&void 0!==r._prerollPlayTime&&(t.data.view_preroll_load_time=n.viewer_time-r._prerollPlayTime,t.data.view_startup_preroll_load_time=n.viewer_time-r._prerollPlayTime)})),t.on("adclicked",(function(e,n){r._wouldBeNewAdPlay||g(t.data,"view_ad_clicked_count")})),t.on("adskipped",(function(e,n){r._wouldBeNewAdPlay||g(t.data,"view_ad_skipped_count")})),t.on("adended",(function(){r._wouldBeNewAdPlay=!0})),t.on("aderror",(function(){r._wouldBeNewAdPlay=!0}))}var t,r;return t=e,(r=[{key:"inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:"_updateAdData",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=ue(v(t.ad_tag_url),2),n=r[0],a=r[1];this.pm.data.view_preroll_ad_tag_domain=a,this.pm.data.view_preroll_ad_tag_hostname=n}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var i=ue(v(t.ad_asset_url),2),o=i[0],s=i[1];this.pm.data.view_preroll_ad_asset_domain=s,this.pm.data.view_preroll_ad_asset_hostname=o}}this.pm.data.ad_asset_url=null==t?void 0:t.ad_asset_url,this.pm.data.ad_tag_url=null==t?void 0:t.ad_tag_url,this.pm.data.ad_creative_id=null==t?void 0:t.ad_creative_id,this.pm.data.ad_id=null==t?void 0:t.ad_id,this.pm.data.ad_universal_id=null==t?void 0:t.ad_universal_id}}])&&de(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var me=function(e,t,r){return t&&_e(e.prototype,t),r&&_e(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(){t.disableRebufferTracking||r&&(g(t.data,"view_waiting_rebuffer_duration",_.now()-r),r=!1,a().clearInterval(n))},o=!1,s=function(){o=!1,i()};t.on("waiting",(function(){o&&(t.disableRebufferTracking||(g(t.data,"view_waiting_rebuffer_count",1),r=_.now(),n=a().setInterval((function(){if(r){var e=_.now();g(t.data,"view_waiting_rebuffer_duration",e-r),r=e}}),250)))})),t.on("playing",(function(){i(),o=!0})),t.on("pause",s),t.on("seeking",s)}));function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var he=function(e,t,r){return t&&ve(e.prototype,t),r&&ve(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(){r.lastWallClockTime=_.now(),t.on("before*",a)},a=function(e){var n=_.now(),a=r.lastWallClockTime;r.lastWallClockTime=n,n-a>3e4&&(t.emit("devicesleep",{viewer_time:a}),Object.assign(t.data,{viewer_time:a}),t.send("devicesleep"),t.emit("devicewake",{viewer_time:n}),Object.assign(t.data,{viewer_time:n}),t.send("devicewake"))};t.one("playbackheartbeat",n),t.on("playbackheartbeatend",(function(){t.off("before*",a),t.one("playbackheartbeat",n)}))})),ye=r(375),be=r(655),ge=r.n(be),we="muxData",Te=function(){var e;try{e=ye.parse(ge().get(we)||"")}catch(t){e={}}return e},ke=function(e){try{ge().set(we,ye.stringify(e),{expires:365})}catch(e){}},xe=function(){var e=Te();return e.mux_viewer_id=e.mux_viewer_id||i(),e.msn=e.msn||Math.random(),ke(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}};function Ee(e,t){var r=t.beaconCollectionDomain,n=t.beaconDomain;if(r)return"https://"+r;var a=n||"litix.io";return(e=e||"inferred").match(/^[a-z0-9]+$/)?"https://"+e+"."+a:"https://img.litix.io/a.gif"}var Oe=function(){var e;switch(De()){case"cellular":e="cellular";break;case"ethernet":e="wired";break;case"wifi":e="wifi";break;case void 0:break;default:e="other"}return e},De=function(){var e=a().navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};Oe.getConnectionFromAPI=De;var Se=Oe,Pe=qe({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),Ae=qe({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function qe(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Re(e){var t={},r={};return Object.keys(e).forEach((function(n){var a=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var i=n.split("_"),o=i[0],s=Pe[o];s||(f.info("Data key word `"+i[0]+"` not expected in "+n),s=o+"_"),i.splice(1).forEach((function(e){"url"===e&&(a=!0),Ae[e]?s+=Ae[e]:Number(e)&&Math.floor(Number(e))===Number(e)?s+=e:(f.info("Data key word `"+e+"` not expected in "+n),s+="_"+e+"_")})),a?r[s]=e[n]:t[s]=e[n]}})),Object.assign(t,r)}var Ie={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},je=["hb","requestcompleted","requestfailed","requestcanceled"],Le="https://img.litix.io",Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._beaconUrl=e||Le,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Ie,t)};Ce.prototype.queueEvent=function(e,t){var r=Object.assign({},t);return(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Ce.prototype.flushEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&1===this._eventQueue.length?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Ce.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),a().clearTimeout(this._sendTimeout)},Ce.prototype._clearBeaconQueue=function(){var e=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,t=this._eventQueue.slice(e);e>0&&Object.assign(t[t.length-1],Re({mux_view_message:"event queue truncated"}));var r=this._createPayload(t);Me(this._beaconUrl,r,!0,(function(){}))},Ce.prototype._sendBeaconQueue=function(){var e=this;if(!this._postInFlight){var t=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var r=this._createPayload(t),n=_.now();Me(this._beaconUrl,r,!1,(function(r,a){a?(e._eventQueue=t.concat(e._eventQueue),e._failureCount+=1,f.info("Error sending beacon: "+a)):e._failureCount=0,e._roundTripTime=_.now()-n,e._postInFlight=!1}))}},Ce.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},Ce.prototype._startBeaconSending=function(){var e=this;a().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=a().setTimeout((function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()}),this._getNextBeaconTime()))},Ce.prototype._createPayload=function(e){var t,r,n,a=this,i={transmission_timestamp:Math.round(_.now())};this._roundTripTime&&(i.rtt_ms=Math.round(this._roundTripTime));var o=function(){t=JSON.stringify({metadata:i,events:r||e}),n=t.length/1024},s=function(){return n<=a._options.maxPayloadKBSize};return o(),s()||(f.info("Payload size is too big ("+n+" kb). Removing unnecessary events."),r=e.filter((function(e){return-1===je.indexOf(e.e)})),o()),s()||(f.info("Payload size still too big ("+n+" kb). Cropping fields.."),r.forEach((function(e){for(var t in e){var r=e[t];"string"==typeof r&&r.length>51200&&(e[t]=r.substring(0,51200))}})),o()),t};var Ne=function(e){return e.length<=57344},Me=function(e,t,r,n){if(r&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(e,t))n();else if(a().fetch)a().fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain"},keepalive:Ne(t)}).then((function(e){return n(null,e.ok?null:"Error")})).catch((function(e){return n(null,e)}));else{if(a().XMLHttpRequest){var i=new(a().XMLHttpRequest);return i.onreadystatechange=function(){if(4===i.readyState)return n(null,200!==i.status?"error":void 0)},i.open("POST",e),i.setRequestHeader("Content-Type","text/plain"),void i.send(t)}n()}},He=Ce;function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Je=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],Ke=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],ze=["ad_id","ad_creative_id","ad_universal_id"],Ye=["viewstart","error","ended","viewend"],Xe=function(){function e(t,r){var n,i,o,s,u,l,d,c,f,p,_,m,v,h,y,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ve(this,e),Qe(this,"previousBeaconData",null),Qe(this,"lastEventTime",0),Qe(this,"rateLimited",!1),this.mux=t,this.envKey=r,this.options=b,this.eventQueue=new He(Ee(this.envKey,this.options)),this.sampleRate=null!==(n=this.options.sampleRate)&&void 0!==n?n:1,this.disableCookies=null!==(i=this.options.disableCookies)&&void 0!==i&&i,this.respectDoNotTrack=null!==(o=this.options.respectDoNotTrack)&&void 0!==o&&o,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:null===(s=this.options.platform)||void 0===s?void 0:s.name,viewer_application_version:null===(u=this.options.platform)||void 0===u?void 0:u.version,viewer_application_engine:null===(l=this.options.platform)||void 0===l?void 0:l.layout,viewer_device_name:null===(d=this.options.platform)||void 0===d?void 0:d.product,viewer_device_category:"",viewer_device_manufacturer:null===(c=this.options.platform)||void 0===c?void 0:c.manufacturer,viewer_os_family:null===(f=this.options.platform)||void 0===f||null===(p=f.os)||void 0===p?void 0:p.family,viewer_os_architecture:null===(_=this.options.platform)||void 0===_||null===(m=_.os)||void 0===m?void 0:m.architecture,viewer_os_version:null===(v=this.options.platform)||void 0===v||null===(h=v.os)||void 0===h?void 0:h.version,viewer_connection_type:Se(),page_url:null===a()||void 0===a()||null===(y=a().location)||void 0===y?void 0:y.href},this.viewerData=this.disableCookies?{}:xe()}var t,r;return t=e,(r=[{key:"send",value:function(e,t){var r;if(e&&null!=t&&t.view_id){if(this.respectDoNotTrack&&p())return f.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||"object"!==We(t))return f.error("A data object was expected in send() but was not provided");var n,a,o=this.disableCookies?{}:(n=Te(),a=_.now(),n.session_start&&(n.sst=n.session_start,delete n.session_start),n.session_id&&(n.sid=n.session_id,delete n.session_id),n.session_expires&&(n.sex=n.session_expires,delete n.session_expires),(!n.sex||n.sex<a)&&(n.sid=i(),n.sst=a),n.sex=a+15e5,ke(n),{session_id:n.sid,session_start:n.sst,session_expires:n.sex}),s=Fe(Fe(Fe(Fe(Fe({},this.pageLevelData),t),o),this.viewerData),{},{event:e,env_key:this.envKey});s.user_id&&(s.viewer_user_id=s.user_id,delete s.user_id);var u=(null!==(r=s.mux_sample_number)&&void 0!==r?r:0)>=this.sampleRate,l=Re(this._deduplicateBeaconData(e,s));if(this.lastEventTime=this.mux.utils.now(),u)return f.info("Not sending event due to sample rate restriction",e,s,l);if(this.envKey||f.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,s,l),!this.rateLimited)if(f.info("Sending event",e,s,l),this.rateLimited=!this.eventQueue.queueEvent(e,l),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&"hb"===e?this.eventQueue.flushEvents(!0):Ye.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return s.event="eventrateexceeded",l=Re(s),this.eventQueue.queueEvent(s.event,l),f.error("Beaconing disabled due to rate limit.")}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,t){var r=this,n={},a=t.view_id;if("-1"===a||"viewstart"===e||"viewend"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)n=Fe({},t),a&&(this.previousBeaconData=n),a&&"viewend"===e&&(this.previousBeaconData=null);else{var i=0===e.indexOf("request");Object.entries(t).forEach((function(t){var a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=a[0],s=a[1];r.previousBeaconData&&(s!==r.previousBeaconData[o]||Je.indexOf(o)>-1||r.objectHasChanged(i,o,s,r.previousBeaconData[o])||r.eventRequiresKey(e,o))&&(n[o]=s,r.previousBeaconData[o]=s)}))}return n}},{key:"objectHasChanged",value:function(e,t,r,n){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===We(r)&&"object"===We(n)&&Object.keys(r||{}).length===Object.keys(n||{}).length)}},{key:"eventRequiresKey",value:function(e,t){return"renditionchange"===e&&0===t.indexOf("video_source_")||!(!ze.includes(t)||!Ke.includes(e))}}])&&Ge(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ze=function(e,t,r){return t&&$e(e.prototype,t),r&&$e(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=0,n=0,a=0,i=0,o=0,s=0,u=0;t.on("requestcompleted",(function(e,s){var u,l,d=s.request_start,c=s.request_response_start,f=s.request_response_end,p=s.request_bytes_loaded;if(i++,c?(u=c-(null!=d?d:0),l=(null!=f?f:0)-c):l=(null!=f?f:0)-(null!=d?d:0),l>0&&p&&p>0){var _=p/l*8e3;o++,n+=p,a+=l,t.data.view_min_request_throughput=Math.min(t.data.view_min_request_throughput||1/0,_),t.data.view_average_request_throughput=n/a*8e3,t.data.view_request_count=i,u>0&&(r+=u,t.data.view_max_request_latency=Math.max(t.data.view_max_request_latency||0,u),t.data.view_average_request_latency=r/o)}})),t.on("requestfailed",(function(e,r){i++,s++,t.data.view_request_count=i,t.data.view_request_failed_count=s})),t.on("requestcanceled",(function(e,r){i++,u++,t.data.view_request_count=i,t.data.view_request_canceled_count=u}))}));function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var tt=function(e,t,r){return t&&et(e.prototype,t),r&&et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.on("before*",(function(e,n){var a=n.viewer_time,i=_.now(),o=r._lastEventTime;if(r._lastEventTime=i,o&&i-o>36e5){var s=Object.keys(t.data).reduce((function(e,r){return 0===r.indexOf("video_")?Object.assign(e,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,t.data[r])):e}),{});t.mux.log.info("Received event after at least an hour inactivity, creating a new view"),t.emit("viewinit",Object.assign({viewer_time:a},s)),t.playbackHeartbeat._playheadShouldBeProgressing&&"play"!==e.type&&"adbreakstart"!==e.type&&(t.emit("play",{viewer_time:a}),"playing"!==e.type&&t.emit("playing",{viewer_time:a}))}}))}));function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}function ot(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return st(e)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}var lt=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(a,e);var t,r,n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ut(e);if(t){var a=ut(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ot(this,r)}}(a);function a(e,t,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(o=n.call(this)).DOM_CONTENT_LOADED_EVENT_END=y(),o.NAVIGATION_START=b(),o.mux=e,o.id=t,(r=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(e){return e}},r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),f.setLevel(r.debug?"debug":"warn"),o.getPlayheadTime=r.getPlayheadTime,o.getStateData=r.getStateData||function(){return{}},o.getAdData=r.getAdData||function(){},o.minimumRebufferDuration=r.minimumRebufferDuration,o.sustainedRebufferThreshold=r.sustainedRebufferThreshold,o.playbackHeartbeatTime=r.playbackHeartbeatTime,o.disableRebufferTracking=r.disableRebufferTracking,o.disableRebufferTracking&&o.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),o.disablePlayheadRebufferTracking=r.disablePlayheadRebufferTracking,o.errorTranslator=r.errorTranslator,o.playbackEventDispatcher=new Xe(e,r.data.env_key,r),o.data={player_instance_id:i(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconCollectionDomain?r.beaconCollectionDomain:r.beaconDomain},o.data.view_sequence_number=1,o.data.player_sequence_number=1,o.oldEmit=o.emit,o.emit=function(e,t){t=Object.assign({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var s=function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(st(o));o.on("viewinit",(function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,t),this._initializeViewData(),this.one("play",s),this.one("adbreakstart",s)}));var u=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(st(o));if(o.on("videochange",(function(e,t){u(t)})),o.on("programchange",(function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),u(Object.assign(t,{view_program_changed:!0})),s(),this.emit("play"),this.emit("playing")})),o.on("fragmentchange",(function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart})),o.on("destroy",o.destroy),"undefined"!=typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.removeEventListener){var l=function(){var e=void 0!==o.data.view_start;o.mux.WINDOW_HIDDEN="hidden"===document.visibilityState,e&&o.mux.WINDOW_HIDDEN&&(o.data.player_is_paused||o.emit("hb"))};window.addEventListener("visibilitychange",l,!1);var d=function(e){e.persisted||o.destroy()};window.addEventListener("pagehide",d,!1),o.on("destroy",(function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("pagehide",d)}))}return o.on("playerready",(function(e,t){Object.assign(this.data,t)})),lt.forEach((function(e){o.on(e,(function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),Object.assign(this.data,r),this._sanitizeData()})),o.on("after"+e,(function(){("error"!==e||this.errorTracker.viewErrored)&&this.send(e)}))})),o.on("viewend",(function(e,t){Object.assign(o.data,t)})),o.one("playerready",(function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time})),o.longResumeTracker=new tt(st(o)),o.errorTracker=new W(st(o)),new he(st(o)),o.seekingTracker=new se(st(o)),o.playheadTime=new z(st(o)),o.playbackHeartbeat=new B(st(o)),new ie(st(o)),o.watchTimeTracker=new G(st(o)),new J(st(o)),o.adTracker=new pe(st(o)),new te(st(o)),new $(st(o)),new ne(st(o)),new me(st(o)),new Ze(st(o)),r.hlsjs&&o.addHLSJS(r),r.dashjs&&o.addDashJS(r),o.emit("viewinit",r.data),o}return t=a,r=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(e){if(this.data.view_id){var t=Object.assign({},this.data);if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach((function(e){t[e]=void 0})),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v(t.video_source_url),2),n=r[0],a=r[1];t.video_source_domain=a,t.video_source_hostname=n}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),"viewend"===e&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach((function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r})),["player_source_url","video_source_url"].forEach((function(t){if(e.data[t]){var r=e.data[t].toLowerCase();0!==r.indexOf("data:")&&0!==r.indexOf("blob:")||(e.data[t]="MSE style URL")}}))}},{key:"_resetVideoData",value:function(e,t){var r=this;Object.keys(this.data).forEach((function(e){0===e.indexOf("video_")&&delete r.data[e]}))}},{key:"_resetViewData",value:function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf("view_")&&delete e.data[t]})),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(e,t){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var e=this,t=this.data.view_id=i(),r=function(){t===e.data.view_id&&g(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()}},{key:"_restartHeartBeat",value:function(){var e=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout((function(){e.data.player_is_paused||e.emit("hb")}),1e4))}},{key:"addHLSJS",value:function(e){e.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,function(e,t,r){var n=arguments.length>4?arguments[4]:void 0,a=e.log,i=e.utils.secondsToMs,o=function(e){var t,r=parseInt(n.version);return 1===r&&null!==e.programDateTime&&(t=e.programDateTime),0===r&&null!==e.pdt&&(t=e.pdt),t};if(h()){var s=function(r,n){return e.emit(t,r,n)},u=function(e,t){var r=t.levels,n=t.audioTracks,a=t.url,i=t.stats,o=t.networkDetails,u=t.sessionData,l={},d={};r.forEach((function(e,t){l[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}})),n.forEach((function(e,t){d[t]={name:e.name,language:e.lang,bitrate:e.bitrate}}));var c=P(i),f=c.bytesLoaded,p=c.requestStart,_=c.responseStart,v=c.responseEnd;s("requestcompleted",D(D({},E(u)),{},{request_event_type:e,request_bytes_loaded:f,request_start:p,request_response_start:_,request_response_end:v,request_type:"manifest",request_hostname:m(a),request_response_headers:A(o),request_rendition_lists:{media:l,audio:d,video:{}}}))};r.on(n.Events.MANIFEST_LOADED,u);var l=function(e,t){var r=t.details,n=t.level,a=t.networkDetails,u=t.stats,l=P(u),d=l.bytesLoaded,c=l.requestStart,f=l.responseStart,p=l.responseEnd,_=r.fragments[r.fragments.length-1],v=o(_)+i(_.duration);s("requestcompleted",{request_event_type:e,request_bytes_loaded:d,request_start:c,request_response_start:f,request_response_end:p,request_current_level:n,request_type:"manifest",request_hostname:m(r.url),request_response_headers:A(a),video_holdback:r.holdBack&&i(r.holdBack),video_part_holdback:r.partHoldBack&&i(r.partHoldBack),video_part_target_duration:r.partTarget&&i(r.partTarget),video_target_duration:r.targetduration&&i(r.targetduration),video_source_is_live:r.live,player_manifest_newest_program_time:isNaN(v)?void 0:v})};r.on(n.Events.LEVEL_LOADED,l);var d=function(e,t){var r=t.details,n=t.networkDetails,a=t.stats,i=P(a),o=i.bytesLoaded,u=i.requestStart,l=i.responseStart,d=i.responseEnd;s("requestcompleted",{request_event_type:e,request_bytes_loaded:o,request_start:u,request_response_start:l,request_response_end:d,request_type:"manifest",request_hostname:m(r.url),request_response_headers:A(n)})};r.on(n.Events.AUDIO_TRACK_LOADED,d);var c=function(e,t){var n=t.stats,a=t.networkDetails,i=t.frag;n=n||i.stats;var o=P(n),u=o.bytesLoaded,l=o.requestStart,d=o.responseStart,c=o.responseEnd,f=a?A(a):void 0,p={request_event_type:e,request_bytes_loaded:u,request_start:l,request_response_start:d,request_response_end:c,request_hostname:a?m(a.responseURL):void 0,request_id:f?x(f):void 0,request_response_headers:f,request_media_duration:i.duration,request_url:null==a?void 0:a.responseURL};"main"===i.type?(p.request_type="media",p.request_current_level=i.level,p.request_video_width=(r.levels[i.level]||{}).width,p.request_video_height=(r.levels[i.level]||{}).height,p.request_labeled_bitrate=(r.levels[i.level]||{}).bitrate):p.request_type=i.type,s("requestcompleted",p)};r.on(n.Events.FRAG_LOADED,c);var f=function(e,t){var r=t.frag,n=r.start,a={currentFragmentPDT:o(r),currentFragmentStart:i(n)};s("fragmentchange",a)};r.on(n.Events.FRAG_CHANGED,f);var p=function(e,t){var r=t.type,a=t.details,i=t.response,o=t.fatal,u=t.frag,l=t.networkDetails,d=(null==u?void 0:u.url)||t.url||"",c=l?A(l):void 0;if(a!==n.ErrorDetails.MANIFEST_LOAD_ERROR&&a!==n.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&a!==n.ErrorDetails.FRAG_LOAD_ERROR&&a!==n.ErrorDetails.FRAG_LOAD_TIMEOUT&&a!==n.ErrorDetails.LEVEL_LOAD_ERROR&&a!==n.ErrorDetails.LEVEL_LOAD_TIMEOUT&&a!==n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&a!==n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&a!==n.ErrorDetails.SUBTITLE_LOAD_ERROR&&a!==n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&a!==n.ErrorDetails.KEY_LOAD_ERROR&&a!==n.ErrorDetails.KEY_LOAD_TIMEOUT||s("requestfailed",{request_error:a,request_url:d,request_hostname:m(d),request_id:c?x(c):void 0,request_type:a===n.ErrorDetails.FRAG_LOAD_ERROR||a===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":a===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||a===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":a===n.ErrorDetails.SUBTITLE_LOAD_ERROR||a===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":a===n.ErrorDetails.KEY_LOAD_ERROR||a===n.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:null==i?void 0:i.code,request_error_text:null==i?void 0:i.text}),o){var f,p="".concat(d?"url: ".concat(d,"\n"):"")+"".concat(i&&(i.code||i.text)?"response: ".concat(i.code,", ").concat(i.text,"\n"):"")+"".concat(t.reason?"failure reason: ".concat(t.reason,"\n"):"")+"".concat(t.level?"level: ".concat(t.level,"\n"):"")+"".concat(t.parent?"parent stream controller: ".concat(t.parent,"\n"):"")+"".concat(t.buffer?"buffer length: ".concat(t.buffer,"\n"):"")+"".concat(t.error?"error: ".concat(t.error,"\n"):"")+"".concat(t.event?"event: ".concat(t.event,"\n"):"")+"".concat(t.err?"error message: ".concat(null===(f=t.err)||void 0===f?void 0:f.message,"\n"):"");s("error",{player_error_code:r,player_error_message:a,player_error_context:p})}};r.on(n.Events.ERROR,p);var _=function(e,t){var r=t.frag,n=r&&r._url||"";s("requestcanceled",{request_event_type:e,request_url:n,request_type:"media",request_hostname:m(n)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,_);var v=function(e,t){var n=t.level,i=r.levels[n];if(i&&i.attrs&&i.attrs.BANDWIDTH){var o,u=i.attrs.BANDWIDTH,l=parseFloat(i.attrs["FRAME-RATE"]);isNaN(l)||(o=l),u?s("renditionchange",{video_source_fps:o,video_source_bitrate:u,video_source_width:i.width,video_source_height:i.height,video_source_rendition_name:i.name,video_source_codec:null==i?void 0:i.videoCodec}):a.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};r.on(n.Events.LEVEL_SWITCHED,v),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,u),r.off(n.Events.LEVEL_LOADED,l),r.off(n.Events.AUDIO_TRACK_LOADED,d),r.off(n.Events.FRAG_LOADED,c),r.off(n.Events.FRAG_CHANGED,f),r.off(n.Events.ERROR,p),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,_),r.off(n.Events.LEVEL_SWITCHED,v),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)}else a.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,e.hlsjs,{},e.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var e;this.hlsjs&&((e=this.hlsjs)&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(e){e.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,function(e,t,r){var n=e.log;if(r&&r.on){var a=function(r,n){return e.emit(t,r,n)},i=function(e){var t=e.type,r=(e.data||{}).url;a("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:m(r),request_url:r})};r.on("manifestLoaded",i);var o={},s=function(e){var t=e.type,n=e.fragmentModel,i=(e.chunk||{}).mediaInfo||{},s=i.type,u=i.bitrateList,l={};(u=u||[]).forEach((function(e,t){l[t]={},l[t].width=e.width,l[t].height=e.height,l[t].bitrate=e.bandwidth,l[t].attrs={}})),"video"===s?o.video=l:"audio"===s?o.audio=l:o.media=l;var d=j(n,r),c=d.requestStart,f=d.requestResponseStart,p=d.requestResponseEnd,_=d.requestResponseHeaders,m=d.requestMediaDuration,v=d.requestHostname,h=d.requestUrl,y=d.requestId;a("requestcompleted",{request_event_type:t,request_start:c,request_response_start:f,request_response_end:p,request_bytes_loaded:-1,request_type:s+"_init",request_response_headers:_,request_hostname:v,request_id:y,request_url:h,request_media_duration:m,request_rendition_lists:o})};r.on("initFragmentLoaded",s);var u=function(e){var t=e.type,n=e.fragmentModel,i=e.chunk||{},o=i.mediaInfo,s=i.start,u=(o||{}).type,l=j(n,r),d=l.requestStart,c=l.requestResponseStart,f=l.requestResponseEnd,p=l.requestBytesLoaded,_=l.requestResponseHeaders,m=l.requestMediaDuration,v=l.requestHostname,h=l.requestUrl,y=l.requestId,b=function(e,t){var r=t.getQualityFor(e),n=t.getCurrentTrackFor(e).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}}(u,r),g=b.currentLevel,w=b.renditionWidth,T=b.renditionHeight,k=b.renditionBitrate;a("requestcompleted",{request_event_type:t,request_start:d,request_response_start:c,request_response_end:f,request_bytes_loaded:p,request_type:u,request_response_headers:_,request_hostname:v,request_id:y,request_url:h,request_media_start_time:s,request_media_duration:m,request_current_level:g,request_labeled_bitrate:k,request_video_width:w,request_video_height:T})};r.on("mediaFragmentLoaded",u);var l={video:void 0,audio:void 0,totalBitrate:void 0},d=function(e,t,i){if("number"==typeof e.newQuality){var o=e.mediaType;if("audio"===o||"video"===o){var s=r.getBitrateInfoListFor(o).find((function(t){return t.qualityIndex===e.newQuality}));if(s&&"number"==typeof s.bitrate){l[o]=R(R({},s),{},{codec:r.getCurrentTrackFor(o).codec});var u=function(){if(l.video&&"number"==typeof l.video.bitrate){if(l.video.width&&l.video.height){var e=l.video.bitrate;return l.audio&&"number"==typeof l.audio.bitrate&&(e+=l.audio.bitrate),e!==l.totalBitrate?(l.totalBitrate=e,{video_source_bitrate:e,video_source_height:l.video.height,video_source_width:l.video.width,video_source_codec:L(l.video.codec)}):void 0}n.warn("have bitrate info for video but missing width/height")}}();u&&a("renditionchange",u)}else n.warn("missing bitrate info for ".concat(o))}}else n.warn("missing evt.newQuality in qualityChangeRendered event",e)};r.on("qualityChangeRendered",d);var c=function(e){var t=e.request,r=e.mediaType;a("requestcanceled",{request_event_type:(t=t||{}).type+"_"+t.action,request_url:t.url,request_type:r,request_hostname:m(t.url)})};r.on("fragmentLoadingAbandoned",c);var f=function(e){var t,r,n=e.error,i=(null==n||null===(t=n.data)||void 0===t?void 0:t.request)||{},o=(null==n||null===(r=n.data)||void 0===r?void 0:r.response)||{};27===(null==n?void 0:n.code)&&a("requestfailed",{request_error:i.type+"_"+i.action,request_url:i.url,request_hostname:m(i.url),request_type:i.mediaType,request_error_code:o.status,request_error_text:o.statusText});var s="".concat(null!=i&&i.url?"url: ".concat(i.url,"\n"):"")+"".concat(null!=o&&o.status||null!=o&&o.statusText?"response: ".concat(null==o?void 0:o.status,", ").concat(null==o?void 0:o.statusText,"\n"):"");a("error",{player_error_code:null==n?void 0:n.code,player_error_message:null==n?void 0:n.message,player_error_context:s})};r.on("error",f),r._stopMuxMonitor=function(){r.off("manifestLoaded",i),r.off("initFragmentLoaded",s),r.off("mediaFragmentLoaded",u),r.off("qualityChangeRendered",d),r.off("error",f),r.off("fragmentLoadingAbandoned",c),delete r._stopMuxMonitor}}else n.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,e.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var e;this.dashjs&&((e=this.dashjs)&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.dashjs=void 0)}}],r&&at(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(H),ct=dt,ft=r(153),pt=r.n(ft);function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ht,yt=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],bt={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};a()&&a().WeakMap&&(ht=new WeakMap);var gt=function(e){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(e),this.manifest};gt.prototype.process=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},gt.prototype.processLine=function(e){var t=e.indexOf(":"),r=Dt(e,t),n=r[0],a=2===r.length?kt(r[1]):void 0;if("#"!==n[0])this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case"#EXT-X-TARGETDURATION":if(!isFinite(a)||a<0)return;this.manifest.targetDuration=a,this.setHoldBack();break;case"#EXT-X-PART-INF":wt(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case"#EXT-X-SERVER-CONTROL":wt(this.manifest,r),this.setHoldBack();break;case"#EXTINF":0===a?this.currentUri.duration=.01:a>0&&(this.currentUri.duration=a);break;case"#EXT-X-PROGRAM-DATE-TIME":var i=a,o=new Date(i);this.manifest.dateTimeString||(this.manifest.dateTimeString=i,this.manifest.dateTimeObject=o),this.currentUri.dateTimeString=i,this.currentUri.dateTimeObject=o;break;case"#EXT-X-VERSION":wt(this.manifest,r);break;case"#EXT-X-SESSION-DATA":var s=St(r[1]),u=E(s);Object.assign(this.manifest.sessionData,u)}},gt.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(t){var a="holdBack",i="partHoldBack",o=r&&3*r,s=n&&2*n;r&&!t.hasOwnProperty(a)&&(t[a]=o),o&&t[a]<o&&(t[a]=o),n&&!t.hasOwnProperty(i)&&(t[i]=3*n),n&&t[i]<s&&(t[i]=s)}};var wt=function(e,t){var r,n=Tt(t[0].replace("#EXT-X-",""));Ot(t[1])?(r={},r=Object.assign(Et(t[1]),r)):r=kt(t[1]),e[n]=r},Tt=function(e){return e.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()}))},kt=function(e){if("yes"===e.toLowerCase()||"no"===e.toLowerCase())return"yes"===e.toLowerCase();var t=-1!==e.indexOf(":")?e:parseFloat(e);return isNaN(t)?e:t},xt=function(e){var t={},r=e.split("=");return r.length>1&&(t[Tt(r[0])]=kt(r[1])),t},Et=function(e){for(var t=e.split(","),r={},n=0;t.length>n;n++){var a=t[n],i=xt(a);r=Object.assign(i,r)}return r},Ot=function(e){return e.indexOf("=")>-1},Dt=function(e,t){return-1===t?[e]:[e.substring(0,t),e.substring(t+1)]},St=function(e){var t={};if(e){var r=e.search(",");return[e.slice(0,r),e.slice(r+1)].forEach((function(e,r){for(var n=e.replace(/['"]+/g,"").split("="),a=0;a<n.length;a++)"DATA-ID"===n[a]&&(t["DATA-ID"]=n[1-a]),"VALUE"===n[a]&&(t.VALUE=n[1-a])})),{data:t}}},Pt=gt,At={safeCall:function(e,t,r,n){var a=n;if(e&&"function"==typeof e[t])try{a=e[t].apply(e,r)}catch(e){f.info("safeCall error",e)}return a},safeIncrement:g,getComputedStyle:function(e,t){var r;if(e&&t&&a()&&"function"==typeof a().getComputedStyle)return ht&&ht.has(e)&&(r=ht.get(e)),r||(r=a().getComputedStyle(e,null),ht&&ht.set(e,r)),r.getPropertyValue(t)},secondsToMs:function(e){return Math.floor(1e3*e)},assign:Object.assign,headersStringToObject:k,cdnHeadersToRequestId:x,extractHostnameAndDomain:v,extractHostname:m,manifestParser:Pt,generateShortID:o,generateUUID:i,now:_.now};function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rt={},It=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?a().setTimeout((function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)}),0):f.warn("`"+t+"` is an unknown task"):"function"==typeof t?a().setTimeout((function(){t(e)}),0):f.warn("`"+t+"` is invalid.")},jt={loaded:_.now(),NAME:"mux-embed",VERSION:"4.27.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(e,t){return function(e,t,r){var n=mt(u(t),3),a=n[0],i=n[1],o=n[2],s=e.log,l=e.utils.getComputedStyle,d=e.utils.secondsToMs;if(!a)return s.error("No element was found with the `"+i+"` query selector.");if("video"!==o&&"audio"!==o)return s.error("The element of `"+i+"` was not a media element.");a.mux&&(a.mux.destroy(),delete a.mux,s.warn("Already monitoring this video element, replacing existing event listeners")),(r=Object.assign({automaticErrorTracking:!0},r)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:e.VERSION},r.data),r.getPlayheadTime=function(){return d(a.currentTime)},r.getStateData=function(){var e,t,n=this.hlsjs&&this.hlsjs.url,i=this.dashjs&&_t("function"===this.dashjs.getSource)&&this.dashjs.getSource(),o={player_is_paused:a.paused,player_playhead_time:d(a.currentTime),player_width:parseInt(l(a,"width")),player_height:parseInt(l(a,"height")),player_autoplay_on:a.autoplay,player_preload_on:a.preload,player_language_code:a.lang,player_is_fullscreen:pt()&&!!(pt().fullscreenElement||pt().webkitFullscreenElement||pt().mozFullScreenElement||pt().msFullscreenElement),video_poster_url:a.poster,video_source_url:n||i||a.currentSrc,video_source_duration:d(a.duration),video_source_height:a.videoHeight,video_source_width:a.videoWidth,view_dropped_frame_count:null===(e=a)||void 0===e||null===(t=e.getVideoPlaybackQuality)||void 0===t?void 0:t.call(e).droppedVideoFrames},s=r.getPlayheadTime();if(a.getStartDate&&s>0){var u=a.getStartDate();if(u&&"function"==typeof u.getTime&&u.getTime()){var c=u.getTime();if(o.player_program_time=c+s,a.seekable.length>0){var f=c+a.seekable.end(a.seekable.length-1);o.player_live_edge_program_time=f}}}return o},a.mux=a.mux||{},a.mux.deleted=!1,a.mux.emit=function(t,r){e.emit(i,t,r)};var c=function(){s.error("The monitor for this video element has already been destroyed.")};a.mux.destroy=function(){Object.keys(a.mux.listeners).forEach((function(e){a.removeEventListener(e,a.mux.listeners[e],!1)})),delete a.mux.listeners,a.mux.destroy=c,a.mux.swapElement=c,a.mux.emit=c,a.mux.addHLSJS=c,a.mux.addDashJS=c,a.mux.removeHLSJS=c,a.mux.removeDashJS=c,a.mux.deleted=!0,e.emit(i,"destroy")},a.mux.swapElement=function(t){var r=mt(u(t),3),n=r[0],i=r[1],o=r[2];return n?"video"!==o&&"audio"!==o?e.log.error("The element of `"+i+"` was not a media element."):(n.muxId=a.muxId,delete a.muxId,n.mux=n.mux||{},n.mux.listeners=Object.assign({},a.mux.listeners),delete a.mux.listeners,Object.keys(n.mux.listeners).forEach((function(e){a.removeEventListener(e,n.mux.listeners[e],!1),n.addEventListener(e,n.mux.listeners[e],!1)})),n.mux.swapElement=a.mux.swapElement,n.mux.destroy=a.mux.destroy,delete a.mux,void(a=n)):e.log.error("No element was found with the `"+i+"` query selector.")},a.mux.addHLSJS=function(t){e.addHLSJS(i,t)},a.mux.addDashJS=function(t){e.addDashJS(i,t)},a.mux.removeHLSJS=function(){e.removeHLSJS(i)},a.mux.removeDashJS=function(){e.removeDashJS(i)},e.init(i,r),e.emit(i,"playerready"),a.paused||(e.emit(i,"play"),a.readyState>2&&e.emit(i,"playing")),a.mux.listeners={},yt.forEach((function(t){("error"!==t||r.automaticErrorTracking)&&(a.mux.listeners[t]=function(){var r={};if("error"===t){if(!a.error)return;if(1===a.error.code)return;r.player_error_code=a.error.code,r.player_error_message=bt[a.error.code]||a.error.message}e.emit(i,t,r)},a.addEventListener(t,a.mux.listeners[t],!1))}))}(It,e,t)},destroyMonitor:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u(e),1)[0];t&&t.mux&&"function"==typeof t.mux.destroy?t.mux.destroy():f.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(e,t){var r=s(e);Rt[r]?Rt[r].addHLSJS(t):f.error("A monitor for `"+r+"` has not been initialized.")},addDashJS:function(e,t){var r=s(e);Rt[r]?Rt[r].addDashJS(t):f.error("A monitor for `"+r+"` has not been initialized.")},removeHLSJS:function(e){var t=s(e);Rt[t]?Rt[t].removeHLSJS():f.error("A monitor for `"+t+"` has not been initialized.")},removeDashJS:function(e){var t=s(e);Rt[t]?Rt[t].removeDashJS():f.error("A monitor for `"+t+"` has not been initialized.")},init:function(e,t){p()&&t&&t.respectDoNotTrack&&f.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var r=s(e);Rt[r]=new ct(It,r,t)},emit:function(e,t,r){var n=s(e);Rt[n]?(Rt[n].emit(t,r),"destroy"===t&&delete Rt[n]):f.error("A monitor for `"+n+"` has not been initialized.")},checkDoNotTrack:p,log:f,utils:At,events:{PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"},WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(It,jt),void 0!==a()&&"function"==typeof a().addEventListener&&a().addEventListener("pagehide",(function(e){e.persisted||(It.WINDOW_UNLOADING=!0)}),!1);var Lt=It},655:function(e,t,r){var n,a;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)
/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}!function(o){var s=!1;if(void 0===(a="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=a),s=!0,"object"===i(t)&&(e.exports=o(),s=!0),!s){var u=window.Cookies,l=window.Cookies=o();l.noConflict=function(){return window.Cookies=u,l}}}((function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return function t(r){function n(t,a,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},n.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{o=JSON.stringify(a),/^[\{\[]/.test(o)&&(a=o)}catch(e){}return a=r.write?r.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",a,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var c=u[d].split("="),f=c.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var p=c[0].replace(l,decodeURIComponent);if(f=r.read?r.read(f,p):r(f,p)||f.replace(l,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(t===p){o=f;break}t||(o[p]=f)}catch(e){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}((function(){}))}))},153:function(e,t,r){var n,a=void 0!==r.g?r.g:"undefined"!=typeof window?window:{},i=r(558);"undefined"!=typeof document?n=document:(n=a["__GLOBAL_DOCUMENT_CACHE@4"])||(n=a["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=n},48:function(e,t,r){var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},640:function(e,t,r){var n,a;!function(i,o){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?a(console,n):void 0!==console.log?a(console,"log"):e)}function s(t,r){for(var a=0;a<n.length;a++){var i=n[a];this[i]=a<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function u(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function l(e,t,r){return o(e)||u.apply(this,arguments)}function d(e,r,a){var i,o=this;r=null==r?"WARN":r;var u="loglevel";function d(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(e){}}}function c(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(u)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=a||l,o.getLevel=function(){return i},o.setLevel=function(r,n){if("string"==typeof r&&void 0!==o.levels[r.toUpperCase()]&&(r=o.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==n&&d(r),s.call(o,r,e),typeof console===t&&r<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){r=e,c()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(r,!1),function(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var f=c();null==f&&(f=r),o.setLevel(f,!1)}var c=new d,f={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new d(e,c.getLevel(),c.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=p),c},c.getLoggers=function(){return f},c.default=c,c},void 0===(a=n.call(t,r,t,e))||(e.exports=a)}()},375:function(e,t){"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=a(i),n=a(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,a={};t=r.exec(e);){var i=n(t[1]),o=n(t[2]);null===i||null===o||i in a||(a[i]=o)}return a}},558:function(){}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}return r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r(80)}()},e.exports=t()},855:function(t){"use strict";t.exports=e}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){"use strict";n.r(a),n.d(a,{register:function(){return q}});var e=n(48),t=n.n(e),r=n(855),i=n.n(r),o=n(961),s=n.n(o);var u=s().utils.secondsToMs;function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return{}},i=!1;e.on("adstart",(function(){i=!0})),e.on("adend",(function(){i=!1})),e.on("adserror",(function(){i=!1}));var o=function(){var n=u(t.currentTime()),o=function r(){var o=s().utils.now(),l=u(t.currentTime());if(i){if(l>n){var d=a();d.viewer_time=o-Math.max(0,l-n),t.off("timeupdate",r),e.mux.emit("adplaying",d)}}else t.off("timeupdate",r)};t.on("timeupdate",o);var l=function e(){t.off("timeupdate",o),r.forEach((function(r){t.off(r,e)}))};r.forEach((function(e){t.on(e,l)}))};n.forEach((function(e){t.on(e,o)}))}function d(e){if("string"!=typeof e)return!1;var t=e.split(".").map((function(e){return parseInt(e)})),r=t[0],n=t[1];return r>2||2===r&&n>=3}var c=s().utils.manifestParser;function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=s().utils,m=_.assign,v=_.secondsToMs;function h(e,t,r){var n=0;return function(){var a,i=t.readyState;if(i>=2){if(n=n||s().utils.now(),4!==i)return;var o=e(),u=o.mux.utils.extractHostnameAndDomain,l=o.mux.utils.headersStringToObject,d=s().utils.now(),p=f(u(t.responseURL),1)[0],_="arraybuffer"===t.responseType?t.response.byteLength:t.responseText.length,h=l(t.getAllResponseHeaders?t.getAllResponseHeaders():""),y=function(e){var t=e["content-type"];return t?t.match(/^audio\/mpegurl/i)?"manifest":t.match(/^audio.*/i)?"audio":t.match(/^video.*/)?"video":t.match(/^application\/x-mpegurl/i)||t.match(/^application\/vnd.apple.mpegurl/i)||t.match(/^application\/dash+xml/i)?"manifest":"unknown":"unknown"}(h);if(t.status>=200&&t.status<300){var b={request_start:r,request_response_start:n,request_response_end:d,request_bytes_loaded:_,request_hostname:p,request_url:t.responseURL,request_response_headers:h,request_type:y};if("manifest"===y){var g,w,T,k,x,E,O,D=(a=t.responseText,new c(a));if(D){g=D.partTargetDuration,w=D.targetDuration,T=D.segments;var S=D.serverControl;k=S.partHoldBack,x=S.holdBack,O=D.sessionData;var P=T[T.length-1];P&&P.dateTimeObject&&(E=P.dateTimeObject.getTime()+v(P.duration)),b=m(b,{video_holdback:x&&v(x),video_part_holdback:k&&v(k),video_part_target_duration:g&&v(g),video_target_duration:w&&v(w),player_manifest_newest_program_time:E}),O&&(b=m(b,O))}}o.mux.emit("requestcompleted",b)}else{var A={request_hostname:f(u(t.responseURL),1)[0],request_url:t.responseURL,request_type:y};o.mux.emit("requestfailed",A)}}}}function y(e,t){var r,n=function(t){return function(r){var n=s().utils.now();try{t(r)}catch(e){}try{r.onreadystatechange=function(t,r,n){var a=h(e,t,r);return function(){try{a()}catch(e){}try{n()}catch(e){}}}(r,n,r.onreadystatechange||function(){})}catch(e){}}};t.beforeRequest=(r=t.beforeRequest||function(e){return e},function(e){var t=r(e);return t?(t.beforeSend=n(t.beforeSend||function(){}),t):e})}var b=function(e){var t,r=function(e){for(var t,r=e.textTracks(),n=0;n<r.length;n++)"segment-metadata"===r[n].label&&(t=r[n]);return t}(e);r&&r.on&&r.on("cuechange",(function(){try{var r=e.tech({IWillNotUseThisInPlugins:!0}),n=(r.vhs||r.hls).playlists.media().attributes.BANDWIDTH;t!==n&&e.mux.emit("renditionchange",{video_source_bitrate:n}),t=n}catch(t){e.mux&&e.mux.log&&e.mux.log.warn&&e.mux.log.warn("Cannot retrieve BANDWIDTH information from player: ".concat(t))}}))};function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=new Map;var k,x=s().log,E=s().utils.assign,O=s().utils.safeCall,D=s().utils.getComputedStyle,S=s().utils.secondsToMs,P=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"];function A(e){var r=e;return function(e){var n,a;if(r.IS_IE8)return!1;var i=this,o=i.id(),u=(null===(n=i.tech)||void 0===n||null===(a=n.call(i,!0))||void 0===a?void 0:a.el())||i.tag,c=k&&(k.get(u)||k.get(i.el()));(e=E({automaticErrorTracking:!0},e)).data=E({player_software_name:"Video.js",player_software_version:r.VERSION||"< 4.11",player_mux_plugin_name:"videojs-mux",player_mux_plugin_version:"4.16.0",player_init_time:c},e.data),e.getPlayheadTime=function(){return S(i.currentTime())},e.getStateData=function(){var e=O(i,"videoHeight"),t=O(i,"videoWidth");if(void 0===t||void 0===e){var r=i.el().firstChild;r&&"VIDEO"===r.nodeName.toUpperCase()&&(e=r.videoHeight,t=r.videoWidth)}return{player_is_paused:O(i,"paused"),player_is_fullscreen:O(i,"isFullscreen"),player_autoplay_on:!!O(i,"autoplay"),player_preload_on:O(i,"preload"),player_width:D(i.el(),"width"),player_height:D(i.el(),"height"),player_language_code:O(i,"language"),video_poster_url:O(i,"poster"),video_source_url:O(i,"currentSrc"),video_source_mime_type:O(i,"currentType")&&O(i,"currentType").toLowerCase(),video_source_duration:S(O(i,"duration")||0),video_source_is_live:i.duration()===1/0,video_source_height:e,video_source_width:t}},i.mux=function(){x.error("[videojs-mux] The plugin was initialized more than once.")},i.mux.emit=function(e,t){s().emit(o,e,t)},i.mux.addHLSJS=function(e){s().addHLSJS(o,e)},i.mux.log=x,i.mux.utils=s().utils,s().init(o,e);var f=!1,p=function(){f||i.mux.emit("playerready"),f=!0};i.ready((function(){i.addClass("vjs-mux"),t().setTimeout(p,0)}));var _=!1;i.one("play",p),P.forEach((function(t){("error"!==t||e.automaticErrorTracking)&&i.on(t,(function(){if(!_){var e={};if("error"===t){var r=O(i,"error");if(r){if(1===r.code)return;e={player_error_code:r.code,player_error_message:r.message,player_error_context:r.status}}}i.mux.emit(t,e)}}))}));var m=!1;i.on("play",(function(){m=!0})),i.on("pause",(function(){m=!1})),i.on("adstart",(function(){_=!0,m&&i.mux.emit("pause"),i.mux.emit("adbreakstart")})),i.on("adend",(function(){i.mux.emit("adbreakend"),_=!1,O(i,"paused")||(i.mux.emit("play"),m=!0,i.onceux&&i.mux.emit("playing"))})),i.ima&&function(e){var t,r,n,a,i,o,s=function(t){var r="function"==typeof(t=t||{}).getAdData?t.getAdData():{},n="function"==typeof t.getAd?t.getAd():{},a="function"==typeof n.getMediaUrl?n.getMediaUrl():r.mediaUrl,i=null==r?void 0:r.adId,o=null==r?void 0:r.creativeId,s=null==r?void 0:r.universalAdIdValue,u=e.ima.settings||{},l={};return a&&(l.ad_asset_url=a),u.adTagUrl&&(l.ad_tag_url=u.adTagUrl),i&&(l.ad_id=i),o&&(l.ad_creative_id=o),s&&(l.ad_universal_id=s),l};try{var u=window.google.ima.AdEvent.Type;t=u.LOADED,r=u.STARTED,n=u.COMPLETE,a=u.PAUSED,i=u.RESUMED,o=u.SKIPPED}catch(e){t="loaded",r="start",n="complete",a="pause",i="resume",o="skip"}var l=0;e.mux.triggerAdRequest=function(){l++,e.mux.emit("adrequest",s())},e.on("adsready",(function(){var u=e.ima.addEventListener||function(){};u(t,(function(t){var r=s(t);l>0&&(l--,e.mux.emit("adresponse",r)),e.mux.emit("adplay",r)})),u(r,(function(t){var r=s(t);e.mux.emit("adplaying",r)})),u(i,(function(t){var r=s(t);e.mux.emit("adplay",r),e.mux.emit("adplaying",r)})),u(a,(function(t){var r=s(t);e.mux.emit("adpause",r)})),u(n,(function(t){var r=s(t);e.mux.emit("adended",r)})),u(o,(function(t){var r=s(t);e.mux.emit("adended",r)})),e.on("adserror",(function(){l>0&&(l--,e.mux.emit("adresponse")),e.mux.emit("aderror")}))}))}(i),i.onceux&&function(e){l(e,e,["onceux-linearad-pause","onceux-linearad-skipped","onceux-linearad-complete","adserror"],["adstart","onceux-linearad-resume"]),e.on("adstart",(function(){e.mux.emit("adplay")})),e.on("onceux-linearad-start",(function(t){t.linearAd&&t.linearAd.index>0&&(e.mux.emit("adplay"),e.mux.emit("adplaying"))})),e.on("onceux-linearad-resume",(function(){e.mux.emit("adplay")})),e.on("onceux-linearad-pause",(function(){e.mux.emit("adpause")})),e.on("onceux-linearad-complete",(function(){e.mux.emit("adended")})),e.on("onceux-linearad-skipped",(function(){e.mux.emit("adended")}))}(i),i.ima3&&"function"==typeof i.ima3.ready&&function(e){var t=function(){var t=e.ima3.currentAd,r=e.ima3.settings,n={};return t&&(n.ad_asset_url=t.mediaUrl),r&&(n.ad_tag_url=r.serverUrl),n};if(d(e.ima3.version)){var r=0,n=function(){r>0&&(r--,e.mux.emit("adresponse",t()))};e.on("ads-request",(function(){r++,e.mux.emit("adrequest",t())})),e.on("ads-load",(function(){n(),e.mux.emit("adplay",t())})),e.on("adserror",(function(){n(),e.mux.emit("aderror")})),e.on("ads-play",(function(){e.mux.emit("adplay",t())})),e.on("ads-pause",(function(){e.mux.emit("adpause",t())})),e.on("ads-ad-ended",(function(){e.mux.emit("adended",t())}))}e.ima3.ready((function(){e.ima3.adPlayer?(d(e.ima3.version)||(e.ima3.adPlayer.on("play",(function(){e.mux.emit("adplay")})),e.ima3.adPlayer.on("pause",(function(){e.mux.emit("adpause")})),e.ima3.adPlayer.on("ended",(function(){e.mux.emit("adended")}))),l(e,e.ima3.adPlayer,["pause","ended","adserror"],["play"],t)):(e.mux.log("Legacy IMA3 plugin found, ad events may not track correctly."),e.on("ads-ad-started",(function(){e.mux.emit("adplaying",t())})),e.on("ads-play",(function(){e.mux.emit("adplaying",t())})))}))}(i),i.FreeWheelPlugin&&i.FreeWheelPlugin.VERSION&&function(e){var t=function(t){var r=e.FreeWheelPlugin,n={};switch(t){case"adplay":case"adplaying":case"adpause":n.ad_asset_url=e.currentSrc()}return r&&(n.ad_tag_url="html5"===r.tech.toLowerCase()?r.settings.Html5.serverUrl:r.settings.Flash.serverUrl),n};e.on("ads-request",(function(){e.mux.emit("adrequest",t("adrequest"))})),e.on("ads-load",(function(){e.mux.emit("adresponse",t("adresponse"))})),e.on("adserror",(function(){e.mux.emit("aderror")})),e.on("ads-ad-started",(function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))})),e.on("ads-play",(function(){e.mux.emit("adplay",t("adplay")),e.mux.emit("adplaying",t("adplaying"))})),e.on("ads-pause",(function(){e.mux.emit("adpause",t("adpause"))})),e.on("ads-ad-ended",(function(){e.mux.emit("adended",t("adended"))})),e.on("adend",(function(){e.mux.emit("play")}))}(i),i.on("dispose",(function(){i.mux.emit("destroy"),k.delete(i)}))}}function q(e){(e.registerPlugin||e.plugin||function(){s().log.error("No valid method to register videojs plugin available.")})("mux",A(e)),function(e){if(!T.get(e)&&(T.set(e,"video.js ".concat(e.VERSION," initialized")),"function"==typeof e.getTech))for(var t=(e.getTech("Html5")||{}).sourceHandlers,r=e.Vhs||e.Hls,n=function(n){var a=t[n],i=a.handleSource;a.handleSource=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r&&r.xhr&&y((function(){return e(n.el())}),r.xhr);var o=i(t,n,a);if(o&&"function"==typeof o.xhr)try{var s=g(e.VERSION.split("."),2),u=s[0],l=s[1];u=parseInt(u),l=parseInt(l);var d=u>=7&&l>=4?o.player().id():o.player_.el_.parentNode.id;b(e(d))}catch(e){}return o}},a=0;a<t.length;a++)n(a)}(e)}k="undefined"!=typeof WeakMap?new WeakMap:new Map,i().hook&&i().hook("beforesetup",(function(e,t){return k.set(e,s().utils.now()),t})),q(i())}(),a}()}))}();
