import { DiscoveryItemClickEvent } from "@udemy/browse-event-tracking";
import { Tracker } from "@udemy/event-tracking";
export const trackCourseClickEvent = (
  course,
  index,
  backendSource,
  uiRegion
) => {
  var _course$badges$map,
    _course$badges,
    _ref,
    _course$frontendTrack,
    _course$tracking_id$t,
    _course$tracking_id;
  const badgeFamilies =
    (_course$badges$map =
      (_course$badges = course.badges) === null || _course$badges === void 0
        ? void 0
        : _course$badges.map((badge) => {
            return badge.badge_family;
          })) !== null && _course$badges$map !== void 0
      ? _course$badges$map
      : null;
  const trackingId =
    (_ref =
      (_course$frontendTrack = course.frontendTrackingId) !== null &&
      _course$frontendTrack !== void 0
        ? _course$frontendTrack
        : course.tracking_id) !== null && _ref !== void 0
      ? _ref
      : "";
  Tracker.publishEvent(
    new DiscoveryItemClickEvent({
      id: course.id,
      type: "course",
      trackingId,
      serveTrackingId:
        (_course$tracking_id$t =
          (_course$tracking_id = course.tracking_id) === null ||
          _course$tracking_id === void 0
            ? void 0
            : _course$tracking_id.toString()) !== null &&
        _course$tracking_id$t !== void 0
          ? _course$tracking_id$t
          : "",
      backendSource,
      position: index,
      badgeFamilies,
      uiRegion,
    })
  );
};
//# sourceMappingURL=course-card-tracking.js.map
